{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\chpre\\\\OneDrive\\\\Desktop\\\\college\\\\PROJECTS\\\\miniproject\\\\college_activity\\\\src\\\\DraftsPage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Drafts = () => {\n  _s();\n  const [drafts, setDrafts] = useState([]);\n\n  // Fetch drafts from the backend\n  useEffect(() => {\n    const fetchDrafts = async () => {\n      try {\n        const response = await axios.get(\"http://localhost:5000/api/drafts\");\n        setDrafts(response.data);\n      } catch (error) {\n        console.error(\"Error fetching drafts:\", error);\n      }\n    };\n    fetchDrafts();\n  }, []);\n  const handlePost = async postId => {\n    try {\n      await axios.put(`http://localhost:5000/api/post/${postId}`);\n      setDrafts(prevDrafts => prevDrafts.filter(draft => draft._id !== postId));\n      alert(\"Draft moved to posted successfully!\");\n    } catch (error) {\n      console.error(\"Error moving draft to posted:\", error);\n      alert(\"Failed to move draft to posted\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"drafts-container\",\n    style: {\n      padding: \"20px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Drafts\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), drafts.length > 0 ? drafts.map(draft => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"draft-card\",\n      style: {\n        border: \"1px solid #ddd\",\n        padding: \"10px\",\n        marginBottom: \"20px\",\n        borderRadius: \"10px\",\n        boxShadow: \"0 2px 5px rgba(0, 0, 0, 0.1)\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: draft.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: draft.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"media-container\",\n        style: {\n          display: \"flex\",\n          flexWrap: \"wrap\",\n          gap: \"10px\"\n        },\n        children: draft.media.map((file, index) => {\n          if (file.type.startsWith(\"image/\")) {\n            return /*#__PURE__*/_jsxDEV(\"img\", {\n              src: file.url,\n              alt: \"Draft media\",\n              style: {\n                width: \"100px\",\n                height: \"auto\",\n                borderRadius: \"5px\",\n                border: \"1px solid #ccc\"\n              }\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 21\n            }, this);\n          } else if (file.type === \"application/pdf\") {\n            return /*#__PURE__*/_jsxDEV(\"a\", {\n              href: file.url,\n              target: \"_blank\",\n              rel: \"noopener noreferrer\",\n              style: {\n                display: \"inline-block\",\n                padding: \"10px\",\n                border: \"1px solid #ddd\",\n                borderRadius: \"5px\",\n                backgroundColor: \"#f9f9f9\",\n                textDecoration: \"none\",\n                color: \"#007BFF\"\n              },\n              children: \"View PDF\"\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 21\n            }, this);\n          } else {\n            return /*#__PURE__*/_jsxDEV(\"a\", {\n              href: file.url,\n              target: \"_blank\",\n              rel: \"noopener noreferrer\",\n              style: {\n                display: \"inline-block\",\n                padding: \"10px\",\n                border: \"1px solid #ddd\",\n                borderRadius: \"5px\",\n                backgroundColor: \"#f1f1f1\",\n                textDecoration: \"none\",\n                color: \"#333\"\n              },\n              children: \"Download File\"\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 21\n            }, this);\n          }\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handlePost(draft._id),\n        style: {\n          marginTop: \"10px\",\n          padding: \"10px 20px\",\n          backgroundColor: \"#007BFF\",\n          color: \"#fff\",\n          border: \"none\",\n          borderRadius: \"5px\",\n          cursor: \"pointer\"\n        },\n        children: \"Post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 13\n      }, this)]\n    }, draft._id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 11\n    }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No drafts available\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n};\n_s(Drafts, \"CqR6q56JQ9tpkY8b4ygmyzXprjQ=\");\n_c = Drafts;\nexport default Drafts;\nvar _c;\n$RefreshReg$(_c, \"Drafts\");","map":{"version":3,"names":["React","useEffect","useState","axios","jsxDEV","_jsxDEV","Drafts","_s","drafts","setDrafts","fetchDrafts","response","get","data","error","console","handlePost","postId","put","prevDrafts","filter","draft","_id","alert","className","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","length","map","border","marginBottom","borderRadius","boxShadow","title","description","display","flexWrap","gap","media","file","index","type","startsWith","src","url","alt","width","height","href","target","rel","backgroundColor","textDecoration","color","onClick","marginTop","cursor","_c","$RefreshReg$"],"sources":["C:/Users/chpre/OneDrive/Desktop/college/PROJECTS/miniproject/college_activity/src/DraftsPage.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst Drafts = () => {\r\n  const [drafts, setDrafts] = useState([]);\r\n\r\n  // Fetch drafts from the backend\r\n  useEffect(() => {\r\n    const fetchDrafts = async () => {\r\n      try {\r\n        const response = await axios.get(\"http://localhost:5000/api/drafts\");\r\n        setDrafts(response.data);\r\n      } catch (error) {\r\n        console.error(\"Error fetching drafts:\", error);\r\n      }\r\n    };\r\n\r\n    fetchDrafts();\r\n  }, []);\r\n\r\n  const handlePost = async (postId) => {\r\n    try {\r\n      await axios.put(`http://localhost:5000/api/post/${postId}`);\r\n      setDrafts((prevDrafts) => prevDrafts.filter((draft) => draft._id !== postId));\r\n      alert(\"Draft moved to posted successfully!\");\r\n    } catch (error) {\r\n      console.error(\"Error moving draft to posted:\", error);\r\n      alert(\"Failed to move draft to posted\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"drafts-container\" style={{ padding: \"20px\" }}>\r\n      <h1>Drafts</h1>\r\n      {drafts.length > 0 ? (\r\n        drafts.map((draft) => (\r\n          <div\r\n            key={draft._id}\r\n            className=\"draft-card\"\r\n            style={{\r\n              border: \"1px solid #ddd\",\r\n              padding: \"10px\",\r\n              marginBottom: \"20px\",\r\n              borderRadius: \"10px\",\r\n              boxShadow: \"0 2px 5px rgba(0, 0, 0, 0.1)\",\r\n            }}\r\n          >\r\n            <h2>{draft.title}</h2>\r\n            <p>{draft.description}</p>\r\n            <div\r\n              className=\"media-container\"\r\n              style={{\r\n                display: \"flex\",\r\n                flexWrap: \"wrap\",\r\n                gap: \"10px\",\r\n              }}\r\n            >\r\n              {draft.media.map((file, index) => {\r\n                if (file.type.startsWith(\"image/\")) {\r\n                  return (\r\n                    <img\r\n                      key={index}\r\n                      src={file.url}\r\n                      alt=\"Draft media\"\r\n                      style={{\r\n                        width: \"100px\",\r\n                        height: \"auto\",\r\n                        borderRadius: \"5px\",\r\n                        border: \"1px solid #ccc\",\r\n                      }}\r\n                    />\r\n                  );\r\n                } else if (file.type === \"application/pdf\") {\r\n                  return (\r\n                    <a\r\n                      key={index}\r\n                      href={file.url}\r\n                      target=\"_blank\"\r\n                      rel=\"noopener noreferrer\"\r\n                      style={{\r\n                        display: \"inline-block\",\r\n                        padding: \"10px\",\r\n                        border: \"1px solid #ddd\",\r\n                        borderRadius: \"5px\",\r\n                        backgroundColor: \"#f9f9f9\",\r\n                        textDecoration: \"none\",\r\n                        color: \"#007BFF\",\r\n                      }}\r\n                    >\r\n                      View PDF\r\n                    </a>\r\n                  );\r\n                } else {\r\n                  return (\r\n                    <a\r\n                      key={index}\r\n                      href={file.url}\r\n                      target=\"_blank\"\r\n                      rel=\"noopener noreferrer\"\r\n                      style={{\r\n                        display: \"inline-block\",\r\n                        padding: \"10px\",\r\n                        border: \"1px solid #ddd\",\r\n                        borderRadius: \"5px\",\r\n                        backgroundColor: \"#f1f1f1\",\r\n                        textDecoration: \"none\",\r\n                        color: \"#333\",\r\n                      }}\r\n                    >\r\n                      Download File\r\n                    </a>\r\n                  );\r\n                }\r\n              })}\r\n            </div>\r\n            <button\r\n              onClick={() => handlePost(draft._id)}\r\n              style={{\r\n                marginTop: \"10px\",\r\n                padding: \"10px 20px\",\r\n                backgroundColor: \"#007BFF\",\r\n                color: \"#fff\",\r\n                border: \"none\",\r\n                borderRadius: \"5px\",\r\n                cursor: \"pointer\",\r\n              }}\r\n            >\r\n              Post\r\n            </button>\r\n          </div>\r\n        ))\r\n      ) : (\r\n        <p>No drafts available</p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Drafts;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}